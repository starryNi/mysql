# 基础



![image-20230624150424182](D:\typora图片\image-20230624150424182.png)

![image-20230624150642107](D:\typora图片\image-20230624150642107.png)

> 但B-树对范围的查找不太好

![image-20230624151104744](D:\typora图片\image-20230624151104744.png)

![image-20230624151138188](D:\typora图片\image-20230624151138188.png)

> B+树对范围的查找友好  --  对B- 树的优化



![image-20230624151555343](D:\typora图片\image-20230624151555343.png)

![image-20230624151712218](D:\typora图片\image-20230624151712218.png)

![image-20230624151814974](D:\typora图片\image-20230624151814974.png)

![image-20230624151857253](D:\typora图片\image-20230624151857253.png)

![image-20230624152328456](D:\typora图片\image-20230624152328456.png)

![image-20230624152521050](D:\typora图片\image-20230624152521050.png)



- 二级索引被称为非聚簇索引

  > 所有非主键索引 都被称为二级索引

  ![image-20230624152755866](D:\typora图片\image-20230624152755866.png)

![image-20230624153023082](D:\typora图片\image-20230624153023082.png)

![image-20230624153122279](D:\typora图片\image-20230624153122279.png)

![image-20230624153229770](D:\typora图片\image-20230624153229770.png)

![image-20230624153324282](D:\typora图片\image-20230624153324282.png)

##  覆盖索引

![image-20230624153559009](D:\typora图片\image-20230624153559009.png)

![image-20230624153628319](D:\typora图片\image-20230624153628319.png)

## 索引下推

![image-20230624153753266](D:\typora图片\image-20230624153753266.png)

![image-20230624153953128](D:\typora图片\image-20230624153953128.png)

> 上面有几条数据 就会回几次表，很慢

- 一次性回表--索引下推

![image-20230624154049072](D:\typora图片\image-20230624154049072.png)

##  单列索引 与 组合索引

![image-20230624154234249](D:\typora图片\image-20230624154234249.png)

![image-20230624154257498](D:\typora图片\image-20230624154257498.png)

![image-20230624154453259](D:\typora图片\image-20230624154453259.png)

![image-20230624154600829](D:\typora图片\image-20230624154600829.png)

![image-20230624154622852](D:\typora图片\image-20230624154622852.png)

![image-20230624154903006](D:\typora图片\image-20230624154903006.png)

![image-20230624155131950](D:\typora图片\image-20230624155131950.png)

![image-20230624155210479](D:\typora图片\image-20230624155210479.png)

![image-20230624155317942](D:\typora图片\image-20230624155317942.png)

##  索引优缺点

![image-20230624155443300](D:\typora图片\image-20230624155443300.png)

# explain

![image-20230625195255322](D:\typora图片\image-20230625195255322.png)

![image-20230625195504924](D:\typora图片\image-20230625195504924.png)

![image-20230625195612126](D:\typora图片\image-20230625195612126.png)

![image-20230625200303576](D:\typora图片\image-20230625200303576.png)

![image-20230625200151804](D:\typora图片\image-20230625200151804.png)



![image-20230625200642013](D:\typora图片\image-20230625200642013.png)



![image-20230625200914741](D:\typora图片\image-20230625200914741.png)

![image-20230625201006948](D:\typora图片\image-20230625201006948.png)

- 优化器会进行优化，比如下面两条select语句，本来是有两个id的，但是执行计划只显示了一个id = 1，通过 show warning语句可以查看优化后的语句

![image-20230625201049841](D:\typora图片\image-20230625201049841.png)

![image-20230625201258088](D:\typora图片\image-20230625201258088.png)

![image-20230625201554760](D:\typora图片\image-20230625201554760.png)

![image-20230625202844855](D:\typora图片\image-20230625202844855.png)

![image-20230625202917471](D:\typora图片\image-20230625202917471.png)

 ![image-20230625202948774](D:\typora图片\image-20230625202948774.png)

![image-20230625203054573](D:\typora图片\image-20230625203054573.png)

![image-20230625203150172](D:\typora图片\image-20230625203150172.png)

 ![image-20230625203222285](D:\typora图片\image-20230625203222285.png)

![image-20230625203311682](D:\typora图片\image-20230625203311682.png)

![image-20230625203341452](D:\typora图片\image-20230625203341452.png)

![image-20230625203425365](D:\typora图片\image-20230625203425365.png)

![image-20230625204144748](D:\typora图片\image-20230625204144748.png)

![image-20230625204200691](D:\typora图片\image-20230625204200691.png)

![image-20230625204233414](D:\typora图片\image-20230625204233414.png)

![image-20230625204301178](D:\typora图片\image-20230625204301178.png)

 ![image-20230625204433287](D:\typora图片\image-20230625204433287.png)

![image-20230625204556899](D:\typora图片\image-20230625204556899.png)

![image-20230625204621141](D:\typora图片\image-20230625204621141.png)

![image-20230625204748319](D:\typora图片\image-20230625204748319.png)

![image-20230625204806593](D:\typora图片\image-20230625204806593.png)

![image-20230625204831232](D:\typora图片\image-20230625204831232.png)

![image-20230625204854114](D:\typora图片\image-20230625204854114.png)

![image-20230625204920607](D:\typora图片\image-20230625204920607.png)

![image-20230625205043257](D:\typora图片\image-20230625205043257.png)

![image-20230625205233488](D:\typora图片\image-20230625205233488.png)

![image-20230625205401162](D:\typora图片\image-20230625205401162.png)

![image-20230625205430811](D:\typora图片\image-20230625205430811.png)

![image-20230625205620446](D:\typora图片\image-20230625205620446.png)

![image-20230625205727619](D:\typora图片\image-20230625205727619.png)

![image-20230625205818040](D:\typora图片\image-20230625205818040.png)

![image-20230625205940303](D:\typora图片\image-20230625205940303.png)

![image-20230625205954286](D:\typora图片\image-20230625205954286.png)

![image-20230625210126744](D:\typora图片\image-20230625210126744.png)

![image-20230625210217163](D:\typora图片\image-20230625210217163.png)

![image-20230625210239226](D:\typora图片\image-20230625210239226.png)

![image-20230625210304446](D:\typora图片\image-20230625210304446.png)

![image-20230625210323784](D:\typora图片\image-20230625210323784.png)

![image-20230625210758411](D:\typora图片\image-20230625210758411.png)

![image-20230625210842880](D:\typora图片\image-20230625210842880.png)

![image-20230625210938356](D:\typora图片\image-20230625210938356.png)

![image-20230625211048598](D:\typora图片\image-20230625211048598.png)

![image-20230625211138470](D:\typora图片\image-20230625211138470.png)

![image-20230625211217820](D:\typora图片\image-20230625211217820.png)

![image-20230625211243951](D:\typora图片\image-20230625211243951.png)

![image-20230625211340128](D:\typora图片\image-20230625211340128.png)

# 优化

![image-20230624160004733](D:\typora图片\image-20230624160004733.png)